################################################################################
#
#    Licensed to the Apache Software Foundation (ASF) under one or more
#    contributor license agreements.  See the NOTICE file distributed with
#    this work for additional information regarding copyright ownership.
#    The ASF licenses this file to You under the Apache License, Version 2.0
#    (the "License"); you may not use this file except in compliance with
#    the License.  You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
#    Unless required by applicable law or agreed to in writing, software
#    distributed under the License is distributed on an "AS IS" BASIS,
#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#    See the License for the specific language governing permissions and
#    limitations under the License.
#
################################################################################

# Common pattern layout for appenders
log4j2.pattern = %d{ISO8601} | %-5p | %-16t | %-32c{1} | %m%n

# Root logger
log4j2.rootLogger.level = INFO
# uncomment to use asynchronous loggers, which require mvn:com.lmax/disruptor/3.3.2 library
#log4j2.rootLogger.type = asyncRoot
#log4j2.rootLogger.includeLocation = false
log4j2.rootLogger.appenderRefs = RollingFile, PaxOsgi
log4j2.rootLogger.appenderRef.RollingFile.ref = RollingFile
log4j2.rootLogger.appenderRef.PaxOsgi.ref = PaxOsgi

# Appenders configuration
log4j2.appenders = console, rolling, osgi

# CONSOLE appender not used by default
log4j2.appender.console.type = Console
log4j2.appender.console.name = STDOUT
log4j2.appender.console.layout.type = PatternLayout
log4j2.appender.console.layout.pattern = ${log4j2.pattern}

# File appender
log4j2.appender.rolling.type = RollingRandomAccessFile
log4j2.appender.rolling.name = RollingFile
log4j2.appender.rolling.fileName = ${karaf.data}/log/karaf.log
log4j2.appender.rolling.filePattern = ${karaf.data}/log/karaf.log.%i
# uncomment to not force a disk flush
#log4j2.appender.rolling.immediateFlush = false
log4j2.appender.rolling.append = false
log4j2.appender.rolling.layout.type = PatternLayout
log4j2.appender.rolling.layout.pattern = ${log4j2.pattern}
log4j2.appender.rolling.policies.type = Policies
log4j2.appender.rolling.policies.size.type = SizeBasedTriggeringPolicy
log4j2.appender.rolling.policies.size.size = 16MB

# OSGi appender
log4j2.appender.osgi.type = PaxOsgi
log4j2.appender.osgi.name = PaxOsgi
log4j2.appender.osgi.filter = *

log4j2.loggers = l00, l01, l02, l03, l04, l05, l06, l07, l08

log4j2.logger.l00.name = org.apache.karaf.features.internal
log4j2.logger.l00.level = WARN
log4j2.logger.l01.name = org.apache.karaf.shell.impl.action.osgi
log4j2.logger.l01.level = WARN
log4j2.logger.l02.name = org.apache.aries
log4j2.logger.l02.level = ERROR
log4j2.logger.l03.name = org.eclipse.jetty.jmx
log4j2.logger.l03.level = ERROR
log4j2.logger.l04.name = org.apache.sshd
log4j2.logger.l04.level = ERROR
log4j2.logger.l05.name = org.springframework
log4j2.logger.l05.level = ERROR
log4j2.logger.l06.name = org.ops4j.pax.exam.invoker.junit.internal
log4j2.logger.l06.level = ERROR
log4j2.logger.l07.name = org.apache.felix.fileinstall
log4j2.logger.l07.level = ERROR
log4j2.logger.l08.name = org.ops4j.pax.swissbox.bnd.BndUtils
log4j2.logger.l08.level = ERROR


# CONSOLE appender
#log4j.appender.stdout.threshold=DEBUG

# File appender
#log4j.appender.out.threshold=DEBUG
#log4j.appender.out.append=true
